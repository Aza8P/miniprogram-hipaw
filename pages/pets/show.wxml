<!--pages/pets/show.wxml-->
<view class="pageContainer">
  <view class="picture">
    <view class="favorite-icon">
      <image class="icon" src="/images/aixin-2.png"></image>
    </view>
    <view class="pet-name">{{pet.name}}</view>
    <view class="filter"></view>
    <image class="pet-avt" mode="aspectFill" src="{{pet.image_url}}"></image>
  </view>
  <view class="pet-info">
    <view> 📍 {{pet.district}}</view>
    <view>Age: {{pet.age}}</view>
    <view>{{pet.description}}</view>
    <view>Fur type: {{pet.fur_type}}</view>
  </view>

  <view class="sticky-bottom">
    <!-- <view class="edit-card"> -->
    <view class="edit-card" wx:if="{{isCreater}}">
      <button style="width:40vw" bindtap="edit" class="edit-btn">edit</button>
      <button style="width:40vw" bindtap="delete" class="delete-btn">delete</button>
    </view>
    <!-- <view class="meet-card"> -->
    <view class="meet-card" wx:if="{{isAdopter}}">
      <button style="width:42vw" class="meet-btn" bindtap="showBookingWindow">Meet & Greet</button>
    </view>
    <view class="booking-card" wx:if="{{isBooker}}">
      <text class="booking-info">
        You've already booked to meet {{pet.name}} on {{booking.date_and_time}}
      </text>
    </view>
  </view>

</view>


<!-- Booking model -->
<!-- <booking 
  wx:if="{{showBookingModal}}" 
  bind:goback="removeBookingWindow" 
  text="Choose a time to meet with {{pet.name}}"/> -->
<view class="background" 
  bindtap="removeBookingWindow" 
  wx:if="{{showBookingModal}}">
</view>
<view class="pop-up-window" 
  wx:if="{{showBookingModal}}">
  <view class="header" >Book a time to meet {{pet.name}}</view>
  <!-- pick date -->
  <picker 
    mode="date" 
    value="{{date}}" 
    start="{{date}}" 
    end="2030-12-31" 
    bindchange="bindDateChange">
    <view class="picker" style="background-color: red;">
      Date: {{date}}
    </view>
  </picker>
  <!-- pick timne -->
  <picker mode="time" value="{{time}}" 
    start="09:01" end="21:01" 
    bindchange="bindTimeChange" >
    <view class="picker" style="background-color: red;">
      Time: {{time}}
    </view>
  </picker>
  <button class="pri-btn" style="margin-top: 60rpx;" bindtap="submitBooking">Send</button>
</view>

